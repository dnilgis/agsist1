/* ═══════════════════════════════════════════════════════════════════
   AGSIST — Shared Stylesheet
   Last updated: 2026-03-01 — v7: Live tool widgets in Quick Tools,
   2-wide price cards on mobile, safe-area-inset fix, mobile audit
   ═══════════════════════════════════════════════════════════════════ */

/* ── Fonts ──────────────────────────────────────────────────────── */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Oswald:wght@500;600;700&display=swap');

/* ═══════════════════════════════════════════════════════════════════
   1. VARIABLES
   ═══════════════════════════════════════════════════════════════════ */
:root {
  --gold:     #e6b042;
  --green:    #3ecf6e;
  --red:      #f06060;
  --blue:     #5ba3e0;
  --orange:   #f0913a;

  --risk-low:     #3ecf6e;
  --risk-mod:     #e6b042;
  --risk-high:    #f0913a;
  --risk-extreme: #f06060;

  --bg:       #080e08;
  --bg2:      #0b120b;
  --surface:  #101a10;
  --surface2: #141e14;
  --surface3: #192619;
  --border:   rgba(255,255,255,0.09);
  --border-g: rgba(210,150,30,0.28);
  --text:     #f4efe3;
  --text-dim: rgba(244,239,227,0.72);
  --text-muted:rgba(240,235,224,0.35);
  --cream:    #f5f1e8;

  /* Glow palette */
  --glow-gold:  0 0 30px rgba(230,176,66,.12), 0 0 60px rgba(230,176,66,.05);
  --glow-card:  0 4px 24px rgba(0,0,0,.35), 0 1px 4px rgba(0,0,0,.2);
  --glow-lift:  0 8px 32px rgba(0,0,0,.45), 0 2px 8px rgba(0,0,0,.25), 0 0 0 1px rgba(230,176,66,.15);

  /* LARGE BASE FONT — built for older eyes */
  --base: 17px;

  /* Spacing scale */
  --sp-xs: .35rem;
  --sp-sm: .65rem;
  --sp-md: 1rem;
  --sp-lg: 1.5rem;
  --sp-xl: 2rem;
  --sp-2xl: 3rem;

  /* Radius scale */
  --r-sm: 6px;
  --r-md: 10px;
  --r-lg: 14px;
}

[data-theme="light"] {
  --bg:       #e8e3d8;
  --bg2:      #e0dbd0;
  --surface:  #f0ece3;
  --surface2: #e4e0d6;
  --surface3: #d8d4ca;
  --border:   rgba(0,0,0,0.08);
  --border-g: rgba(150,100,10,0.28);
  --text:     #111108;
  --text-dim: rgba(11,11,4,0.68);
  --text-muted:rgba(11,11,4,0.42);
  --blue: #2c7ab5;
  --glow-gold:  0 0 30px rgba(230,176,66,.08);
  --glow-card:  0 2px 12px rgba(0,0,0,.08), 0 1px 3px rgba(0,0,0,.05);
  --glow-lift:  0 6px 24px rgba(0,0,0,.12), 0 0 0 1px rgba(150,100,10,.15);
}

/* ═══════════════════════════════════════════════════════════════════
   2. RESET & BASE
   ═══════════════════════════════════════════════════════════════════ */
*,*::before,*::after { box-sizing: border-box; margin: 0; padding: 0 }
html {
  scroll-behavior: smooth;
  font-size: var(--base);
  overflow-x: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
}
body {
  background: var(--bg);
  color: var(--text);
  font-family: 'JetBrains Mono', monospace;
  overflow-x: hidden;
  transition: background .25s, color .25s;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* v6 FIX: was "padding-env:" (invalid). Correct env() syntax for notch-safe spacing */
  padding:
    env(safe-area-inset-top)
    env(safe-area-inset-right)
    env(safe-area-inset-bottom)
    env(safe-area-inset-left);
}
a { color: inherit; text-decoration: none }
img { display: block; max-width: 100% }
button { cursor: pointer; font-family: inherit }

/* Custom scrollbar (dark theme) */
::-webkit-scrollbar { width: 8px; height: 8px }
::-webkit-scrollbar-track { background: var(--bg) }
::-webkit-scrollbar-thumb { background: var(--surface3); border-radius: 4px }
::-webkit-scrollbar-thumb:hover { background: rgba(230,176,66,.3) }

/* Skip link */
.skip { position: absolute; top: -100%; left: 1rem; z-index: 9999; padding: .5rem 1rem; background: var(--gold); color: #0a1a0a; font-size: .875rem; font-weight: 700; border-radius: 0 0 4px 4px }
.skip:focus { top: 0 }

/* Focus visible */
:focus-visible { outline: 2px solid var(--gold); outline-offset: 2px }
button:focus:not(:focus-visible), a:focus:not(:focus-visible) { outline: none }

/* ═══════════════════════════════════════════════════════════════════
   3. NAV
   ═══════════════════════════════════════════════════════════════════ */
.nav {
  position: sticky; top: 0; z-index: 400;
  background: rgba(16,26,16,.85);
  backdrop-filter: blur(16px) saturate(1.4);
  -webkit-backdrop-filter: blur(16px) saturate(1.4);
  border-bottom: 1px solid var(--border-g);
  transition: box-shadow .2s, background .25s;
}
[data-theme="light"] .nav { background: rgba(240,236,227,.88) }
.nav.scrolled { box-shadow: 0 2px 24px rgba(0,0,0,.35) }
.nav-inner { max-width: 1400px; margin: 0 auto; padding: 0 var(--sp-lg); height: 72px; display: flex; align-items: center; gap: 0; overflow: visible }
.nav-logo { display: flex; align-items: center; flex-shrink: 0; margin-right: var(--sp-lg) }
.nav-logo img { height: 54px; width: auto; object-fit: contain; max-width: 220px }
.nav-menu { display: flex; align-items: center; gap: .1rem; flex: 1; min-width: 0 }
.nav-btn { display: flex; align-items: center; gap: .35rem; padding: .45rem .75rem; background: none; border: none; border-radius: 5px; font-family: 'JetBrains Mono', monospace; font-size: .88rem; font-weight: 600; color: var(--text); transition: color .15s, background .15s; white-space: nowrap }
.nav-btn:hover, .nav-dd.open > .nav-btn { color: var(--gold); background: rgba(230,176,66,.07) }
.chevron { opacity: .4; transition: transform .2s; margin-left: 1px; flex-shrink: 0 }
.nav-dd.open .chevron { transform: rotate(180deg); opacity: .9 }
.nav-dd { position: relative }
.nav-panel { position: absolute; top: calc(100% + 8px); left: 0; min-width: 210px; background: var(--surface3); border: 1px solid var(--border-g); border-radius: 8px; padding: .5rem 0; box-shadow: 0 14px 44px rgba(0,0,0,.5); opacity: 0; pointer-events: none; transform: translateY(-8px); transition: opacity .15s, transform .15s; z-index: 500 }
.nav-dd.open .nav-panel { opacity: 1; pointer-events: all; transform: translateY(0) }
.nav-panel a { display: flex; align-items: center; gap: .55rem; padding: .6rem 1.1rem; font-size: .88rem; color: var(--text-dim); transition: color .12s, background .12s; white-space: nowrap; text-decoration: none }
.nav-panel a:hover { color: var(--gold); background: rgba(230,176,66,.05) }
.nav-panel-div { height: 1px; background: var(--border); margin: .3rem 0 }
.nav-panel a.all { color: var(--gold); font-size: .82rem }
.nav-actions { display: flex; align-items: center; gap: .5rem; margin-left: auto; flex-shrink: 0 }
.theme-btn { display: flex; align-items: center; gap: .4rem; padding: .32rem .55rem; background: none; border: 1px solid var(--border); border-radius: 4px; color: var(--text-dim); font-size: .78rem; font-weight: 600; transition: border-color .15s, color .15s }
.theme-btn:hover { border-color: var(--gold); color: var(--gold) }
.t-track { width: 30px; height: 16px; border-radius: 8px; background: rgba(255,255,255,.12); position: relative; transition: background .25s; flex-shrink: 0 }
[data-theme="light"] .t-track { background: rgba(230,176,66,.4) }
.t-thumb { position: absolute; top: 2px; left: 2px; width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,.75); transition: transform .25s }
[data-theme="light"] .t-thumb { transform: translateX(14px); background: var(--gold) }
.hamburger { display: none; flex-direction: column; justify-content: center; gap: 5px; width: 40px; height: 40px; padding: .45rem; background: none; border: 1px solid var(--border); border-radius: 4px }
.hamburger:hover { border-color: var(--gold) }
.h-bar { width: 100%; height: 2px; background: var(--text); opacity: .75; border-radius: 1px; transition: transform .2s, opacity .2s }
.hamburger.open .h-bar:nth-child(1) { transform: translateY(7px) rotate(45deg) }
.hamburger.open .h-bar:nth-child(2) { opacity: 0 }
.hamburger.open .h-bar:nth-child(3) { transform: translateY(-7px) rotate(-45deg) }
@media (max-width: 960px) { .nav-menu { display: none } .hamburger { display: flex } }

/* ═══════════════════════════════════════════════════════════════════
   4. DRAWER (mobile nav)
   ═══════════════════════════════════════════════════════════════════ */
.drawer { position: fixed; inset: 0 0 0 auto; width: min(320px, 90vw); background: var(--surface); border-left: 1px solid var(--border-g); z-index: 500; overflow-y: auto; transform: translateX(100%); transition: transform .25s cubic-bezier(.4,0,.2,1) }
.drawer.open { transform: translateX(0) }
.draw-ov { position: fixed; inset: 0; background: rgba(0,0,0,.55); z-index: 499; opacity: 0; pointer-events: none; transition: opacity .25s; backdrop-filter: blur(2px) }
.draw-ov.vis { opacity: 1; pointer-events: all }
.draw-head { display: flex; align-items: center; justify-content: space-between; padding: 1rem 1.1rem; border-bottom: 1px solid var(--border) }
.draw-close { background: none; border: 1px solid var(--border); border-radius: 4px; color: var(--text-dim); width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; font-size: 1rem }
.draw-close:hover { color: var(--gold); border-color: var(--gold) }
.draw-sec { padding: .6rem 0; border-bottom: 1px solid var(--border) }
.draw-lbl { padding: .2rem 1.1rem .5rem; font-size: .72rem; font-weight: 700; letter-spacing: .1em; text-transform: uppercase; color: var(--gold); opacity: .85 }
.draw-item { display: block; padding: .6rem 1.1rem; font-size: .9rem; color: var(--text-dim); transition: color .12s }
.draw-item:hover { color: var(--gold) }
.draw-item.active { color: var(--gold) }

/* ═══════════════════════════════════════════════════════════════════
   5. TICKER STRIP
   ═══════════════════════════════════════════════════════════════════ */
.prices-strip {
  background: rgba(16,26,16,.92);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--border-g);
  position: sticky; top: 72px; z-index: 190;
  max-width: 100vw; overflow: hidden;
  transition: background .25s;
}
[data-theme="light"] .prices-strip { background: rgba(240,236,227,.92) }
.ticker-outer { display: flex; align-items: stretch; height: 44px; max-width: 100%; overflow: hidden }
.ticker-live { display: flex; align-items: center; gap: .4rem; padding: 0 .85rem; border-right: 1px solid var(--border-g); flex-shrink: 0; background: var(--surface2) }
.ticker-live span { font-size: .65rem; font-weight: 700; letter-spacing: .12em; color: var(--text-muted); white-space: nowrap }
.live-dot { width: 7px; height: 7px; border-radius: 50%; background: var(--green); animation: blink 2s ease-in-out infinite }
@keyframes blink { 0%,100% { opacity: 1 } 50% { opacity: .3 } }
.ticker-track-wrap { flex: 1; overflow: hidden; position: relative; cursor: default; min-width: 0 }
.ticker-track-wrap::before,
.ticker-track-wrap::after { content: ''; position: absolute; top: 0; bottom: 0; width: 40px; z-index: 2; pointer-events: none }
/* v6 FIX: gradient color now matches ticker strip bg instead of --surface */
.ticker-track-wrap::before { left: 0; background: linear-gradient(to right, rgba(16,26,16,.92), transparent) }
.ticker-track-wrap::after { right: 0; background: linear-gradient(to left, rgba(16,26,16,.92), transparent) }
[data-theme="light"] .ticker-track-wrap::before { background: linear-gradient(to right, rgba(240,236,227,.92), transparent) }
[data-theme="light"] .ticker-track-wrap::after { background: linear-gradient(to left, rgba(240,236,227,.92), transparent) }
.ticker-track { display: flex; align-items: center; height: 100%; white-space: nowrap; animation: ticker-scroll 60s linear infinite; width: max-content; will-change: transform }
.ticker-track:hover { animation-play-state: paused }
@keyframes ticker-scroll { 0% { transform: translateX(0) } 100% { transform: translateX(-50%) } }
#ticker-items-single, #ticker-items-clone { display: flex; align-items: center; flex-shrink: 0 }
.t-item { display: inline-flex; align-items: baseline; gap: .4rem; padding: 0 .5rem; flex-shrink: 0 }
.t-label { font-size: .7rem; font-weight: 500; color: var(--text-muted); letter-spacing: .02em }
.t-price { font-size: .88rem; font-weight: 700; color: var(--text) }
.t-chg { font-size: .7rem; font-weight: 600 }
.t-chg.up { color: var(--green) }
.t-chg.dn { color: var(--red) }
.t-chg.nc { color: var(--text-muted) }
.t-sep { color: var(--text-muted); opacity: .3; font-size: .6rem; padding: 0 .15rem; flex-shrink: 0; user-select: none }

/* ═══════════════════════════════════════════════════════════════════
   6. DAILY HERO
   ──────────────────────────────────────────────────────────────────
   v5 FIX: Removed overflow:hidden from .daily-hero — this was
   clipping the tall daily content on mobile when 5 sections + 4
   sidebar cards stack vertically. overflow:hidden is now ONLY
   applied when the hero is dismissed (for collapse animation).
   ═══════════════════════════════════════════════════════════════════ */
.daily-hero {
  position: relative;
  background: var(--bg2);
  border-bottom: 1px solid var(--border-g);
  transition: all .35s cubic-bezier(.4,0,.2,1);
}
/* v5: overflow:hidden only when dismissed — prevents clipping on mobile */
.daily-hero.dismissed { overflow: hidden }

.daily-full {
  display: grid;
  grid-template-rows: 1fr;
  transition: grid-template-rows .5s cubic-bezier(.4,0,.2,1), opacity .3s;
}
.daily-hero.dismissed .daily-full {
  grid-template-rows: 0fr;
  opacity: 0;
  pointer-events: none;
}
.daily-hero-inner {
  overflow: hidden;
  max-width: 1400px; margin: 0 auto; padding: var(--sp-2xl) var(--sp-lg);
  transition: padding .35s;
  min-width: 0;
}
.daily-hero.dismissed .daily-hero-inner { padding-top: 0; padding-bottom: 0 }

/* ── Teaser bar (shown when dismissed) ───────────────────────── */
.daily-teaser {
  display: none;
  align-items: center;
  justify-content: space-between;
  gap: .5rem;
  padding: .45rem var(--sp-lg);
  cursor: pointer;
  transition: background .15s;
  border-bottom: 1px solid var(--border);
  max-width: 100%;
  overflow: hidden;
}
.daily-teaser:hover { background: rgba(230,176,66,.04) }
.daily-hero.dismissed .daily-teaser { display: flex }
.teaser-left {
  display: flex;
  align-items: center;
  gap: .6rem;
  min-width: 0;
  overflow: hidden;
  flex: 1 1 0%;
}
.teaser-badge { font-size: .6rem; font-weight: 700; letter-spacing: .1em; text-transform: uppercase; color: var(--gold); background: rgba(230,176,66,.1); border: 1px solid rgba(230,176,66,.2); border-radius: 20px; padding: .18rem .55rem; white-space: nowrap; flex-shrink: 0 }
.teaser-headline { font-size: .85rem; font-weight: 600; color: var(--text-dim); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; min-width: 0 }
.teaser-action { font-size: .75rem; color: var(--gold); white-space: nowrap; font-weight: 600; flex-shrink: 0 }

/* ── Daily content layout ─────────────────────────────────────── */
.daily-grid {
  display: grid;
  grid-template-columns: 1fr minmax(0, 360px);
  gap: var(--sp-xl);
  align-items: start;
  min-width: 0;
}
.daily-left { min-width: 0; overflow: hidden }
.daily-eyebrow { display: inline-flex; align-items: center; gap: .5rem; font-size: .72rem; font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: var(--gold); margin-bottom: .9rem; padding: .3rem .75rem; background: rgba(230,176,66,.08); border: 1px solid rgba(230,176,66,.2); border-radius: 20px }
.daily-eyebrow-dot { width: 7px; height: 7px; border-radius: 50%; background: var(--green); animation: blink 2s ease-in-out infinite }
.daily-date { font-size: .82rem; color: var(--text-muted); letter-spacing: .06em; margin-bottom: .6rem; text-transform: uppercase }
.daily-greeting { font-family: 'Oswald', sans-serif; font-size: 1.5rem; font-weight: 600; color: var(--text-dim); margin-bottom: .75rem; letter-spacing: .03em }
.daily-headline { font-family: 'Oswald', sans-serif; font-size: clamp(2.4rem, 4.5vw, 3.6rem); font-weight: 700; line-height: 1.15; color: var(--text); margin-bottom: 1rem; letter-spacing: .01em; text-transform: uppercase }
.daily-headline span { color: var(--gold) }
.daily-lead { font-size: 1.05rem; line-height: 1.75; color: var(--text-dim); max-width: 580px; margin-bottom: 1.5rem }
.daily-sections { display: flex; flex-direction: column; gap: .85rem; margin-bottom: 1.75rem }
.daily-sec {
  display: flex; gap: .8rem; align-items: flex-start;
  padding: .9rem 1rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  transition: border-color .2s, box-shadow .2s;
  min-width: 0;
}
.daily-sec:hover { border-color: var(--border-g); box-shadow: var(--glow-card) }
.daily-sec-icon { font-size: 1.25rem; flex-shrink: 0; margin-top: .1rem }
/* v4+v5: text container shrinks with parent, no overflow blowout */
.daily-sec > div { min-width: 0; overflow: hidden }
.daily-sec-label { font-size: .68rem; font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: var(--gold); margin-bottom: .3rem; opacity: .9 }
.daily-sec-text { font-size: .95rem; line-height: 1.7; color: var(--text-dim) }
.daily-sec-text strong { color: var(--text) }
.daily-ctas { display: flex; align-items: center; gap: .75rem; flex-wrap: wrap }
.daily-dismiss-row {
  display: flex; align-items: center; justify-content: space-between;
  flex-wrap: wrap; gap: .75rem;
  padding: .9rem var(--sp-lg) 1.25rem;
  border-top: 1px solid var(--border);
  max-width: 1400px; margin: 0 auto;
}
.daily-hero.dismissed .daily-dismiss-row { display: none }

/* ── Hero sidebar cards ────────────────────────────────────────── */
.hero-sidebar { display: flex; flex-direction: column; gap: 1rem; min-width: 0 }
.s-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  padding: 1.2rem;
  position: relative; overflow: hidden;
  transition: border-color .2s, box-shadow .2s;
  min-width: 0;
}
.s-card:hover { border-color: var(--border-g); box-shadow: var(--glow-card) }
.s-card--gold { border-color: var(--border-g) }
.s-card--ffai { border-color: rgba(91,163,224,0.3); background: linear-gradient(135deg, var(--surface) 0%, rgba(91,163,224,0.06) 100%) }
.s-card-label { font-size: .68rem; font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: var(--gold); margin-bottom: .7rem; opacity: .9 }
.one-num { font-family: 'Oswald', sans-serif; font-size: 4rem; font-weight: 700; color: var(--gold); line-height: 1; margin-bottom: .2rem; letter-spacing: -.01em }
.one-num-unit { font-size: .88rem; color: var(--text-dim); margin-bottom: .5rem }
.one-num-ctx { font-size: .88rem; line-height: 1.65; color: var(--text-dim) }
.watch-list { display: flex; flex-direction: column; gap: .5rem }
.watch-item { display: flex; gap: .7rem; align-items: flex-start; padding: .5rem 0; border-bottom: 1px solid var(--border) }
.watch-item:last-child { border-bottom: none; padding-bottom: 0 }
.watch-time { color: var(--gold); font-weight: 600; font-size: .82rem; white-space: nowrap; flex-shrink: 0; min-width: 64px }
.watch-desc { color: var(--text-dim); font-size: .88rem; line-height: 1.5; min-width: 0 }
.watch-desc strong { color: var(--text) }

/* ── Buttons ───────────────────────────────────────────────────── */
.btn-gold { display: inline-flex; align-items: center; gap: .5rem; padding: .8rem 1.6rem; background: var(--gold); color: #0a1a0a; border-radius: 7px; font-size: .9rem; font-weight: 700; border: none; transition: background .15s, transform .1s, box-shadow .15s }
.btn-gold:hover { background: #f0c050; transform: translateY(-1px); box-shadow: 0 4px 16px rgba(230,176,66,.25) }
.btn-ghost { display: inline-flex; align-items: center; gap: .5rem; padding: .8rem 1.4rem; background: none; border: 1px solid var(--border-g); border-radius: 7px; font-size: .9rem; font-weight: 600; color: var(--text-dim); transition: border-color .15s, color .15s }
.btn-ghost:hover { border-color: var(--gold); color: var(--gold) }
.btn-dismiss { display: inline-flex; align-items: center; gap: .4rem; padding: .8rem 1.2rem; background: none; border: 1px solid var(--border); border-radius: 7px; font-size: .85rem; font-weight: 600; color: var(--text-muted); transition: border-color .15s, color .15s }
.btn-dismiss:hover { border-color: var(--border-g); color: var(--text-dim) }

/* ═══════════════════════════════════════════════════════════════════
   7. MAIN LAYOUT
   ═══════════════════════════════════════════════════════════════════ */
.main {
  max-width: 1400px; margin: 0 auto;
  padding: var(--sp-xl) var(--sp-lg);
  min-width: 0;
  overflow-x: hidden;
  overflow-wrap: anywhere;
}
.sec-head { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.1rem; gap: .5rem }
.sec-title { display: flex; align-items: center; gap: .6rem; font-size: .75rem; font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: var(--gold) }
.sec-title img { height: 24px; width: 24px; object-fit: contain; border-radius: 3px; background: #f5f1e8; padding: 2px }
.sec-all { font-size: .8rem; color: var(--text-muted); transition: color .15s; white-space: nowrap; flex-shrink: 0 }
.sec-all:hover { color: var(--gold) }

/* ═══════════════════════════════════════════════════════════════════
   8. DASHBOARD GRID — fluid auto-fit
   ═══════════════════════════════════════════════════════════════════ */
.dash-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 320px), 1fr));
  gap: var(--sp-lg);
  margin-bottom: var(--sp-xl);
}
.dash-grid > .fade-up { display: flex; flex-direction: column; min-width: 0 }
.dash-grid > .fade-up > .card { flex: 1; display: flex; flex-direction: column }
.dash-grid > .fade-up > .card > .card-body { flex: 1; display: flex; flex-direction: column; justify-content: center }

/* ═══════════════════════════════════════════════════════════════════
   9. CARDS — base styling
   ═══════════════════════════════════════════════════════════════════ */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  overflow: hidden;
  transition: border-color .2s, box-shadow .2s;
  min-width: 0;
}
.card:hover { border-color: var(--border-g); box-shadow: var(--glow-card) }
.card-body { padding: 1.1rem 1.2rem; min-width: 0 }

/* ═══════════════════════════════════════════════════════════════════
   10. PRICE CARDS — fluid grid + showpiece hover
   ═══════════════════════════════════════════════════════════════════ */
.price-cards-section { margin-bottom: var(--sp-xl) }
.pc-section-lbl { font-size: .65rem; font-weight: 700; letter-spacing: .14em; text-transform: uppercase; color: var(--text-muted); margin: .25rem 0 .65rem; padding: .2rem 0; border-bottom: 1px solid var(--border) }

.price-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 260px), 1fr));
  gap: 1rem;
  margin-bottom: 1rem;
}
.price-cards-grid-2 {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(min(100%, 220px), 1fr));
  gap: 1rem;
  margin-bottom: .5rem;
}

.pc {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  padding: 1.1rem 1.2rem;
  transition: border-color .2s, transform .2s cubic-bezier(.4,0,.2,1), box-shadow .2s;
  cursor: default;
  position: relative;
  overflow: hidden;
  min-width: 0;
}
.pc::before {
  content: '';
  position: absolute; inset: 0;
  background: radial-gradient(ellipse 200px 100px at 50% 0%, rgba(230,176,66,.04) 0%, transparent 70%);
  opacity: 0;
  transition: opacity .25s;
  pointer-events: none;
}
.pc:hover {
  border-color: var(--border-g);
  transform: translateY(-3px);
  box-shadow: var(--glow-lift);
}
.pc:hover::before { opacity: 1 }
.pc--highlight { border-color: var(--border-g) }
.pc--highlight::before { opacity: .5 }

.pc-head { display: flex; align-items: center; justify-content: space-between; margin-bottom: .75rem; gap: .5rem; min-width: 0 }
.pc-name { display: flex; align-items: center; gap: .5rem; font-size: .85rem; font-weight: 600; color: var(--text); min-width: 0; overflow: hidden; text-overflow: ellipsis }
.pc-name-icon { font-size: 1rem; flex-shrink: 0 }
.pc-contract { font-size: .68rem; color: var(--text-muted); background: var(--surface2); padding: .15rem .45rem; border-radius: 4px; white-space: nowrap; flex-shrink: 0 }
.pc-price { font-family: 'Oswald', sans-serif; font-size: 2.4rem; font-weight: 700; color: var(--text); line-height: 1; margin-bottom: .35rem; letter-spacing: -.01em }
.pc-change { display: flex; align-items: center; gap: .5rem; margin-bottom: .1rem; flex-wrap: wrap }
.pc-chg-val { font-size: .88rem; font-weight: 700 }
.pc-chg-val.up { color: var(--green) }
.pc-chg-val.dn { color: var(--red) }
.pc-chg-val.nc { color: var(--text-muted) }
.pc-prev { font-size: .68rem; color: var(--text-muted); margin-top: .15rem; letter-spacing: .01em; overflow: hidden; text-overflow: ellipsis; white-space: nowrap }

/* Range bars */
.pc-range { margin-top: .5rem; padding-top: .45rem; border-top: 1px solid var(--border) }
.pc-range-labels { display: flex; justify-content: space-between; font-size: .65rem; color: var(--text-muted); margin-bottom: .3rem }
.pc-range-track { height: 5px; background: linear-gradient(to right, var(--red), var(--gold) 50%, var(--green)); border-radius: 3px; position: relative; overflow: visible }
.pc-range-fill { display: none }
.pc-range-dot {
  position: absolute; top: 50%;
  width: 11px; height: 11px;
  border-radius: 50%;
  background: var(--text);
  border: 2px solid var(--bg);
  transform: translate(-50%, -50%);
  transition: left .6s cubic-bezier(.4,0,.2,1);
  box-shadow: 0 1px 6px rgba(0,0,0,.5);
}
.pc-sm .pc-price { font-size: 1.9rem }

/* ═══════════════════════════════════════════════════════════════════
   11. WEATHER & SPRAY
   ═══════════════════════════════════════════════════════════════════ */
.wx-hero { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border) }
.wx-icon { font-size: 3rem; line-height: 1; flex-shrink: 0 }
.wx-temp { font-family: 'Oswald', sans-serif; font-size: 2.6rem; font-weight: 700; color: var(--text); line-height: 1 }
.wx-desc { font-size: .9rem; color: var(--text-dim); margin-top: .2rem }
.wx-loc { font-size: .75rem; color: var(--text-muted) }
.wx-grid { display: grid; grid-template-columns: 1fr 1fr; gap: .65rem }
.wstat { background: var(--surface2); border-radius: 7px; padding: .65rem .85rem }
.wstat-lbl { font-size: .68rem; text-transform: uppercase; letter-spacing: .08em; color: var(--text-muted); margin-bottom: .15rem }
.wstat-val { font-size: .95rem; font-weight: 600; color: var(--text) }
.spray-badge { display: inline-flex; align-items: center; gap: .4rem; padding: .38rem .75rem; border-radius: 5px; font-size: .78rem; font-weight: 700; margin-top: .85rem }
.spray-badge.caution { background: rgba(251,191,36,.1); color: #fbbf24; border: 1px solid rgba(251,191,36,.22) }
.spray-badge.good { background: rgba(62,207,110,.1); color: var(--green); border: 1px solid rgba(62,207,110,.22) }
.spray-badge.poor { background: rgba(240,96,96,.1); color: var(--red); border: 1px solid rgba(240,96,96,.22) }

/* ═══════════════════════════════════════════════════════════════════
   12. TOOLS
   ═══════════════════════════════════════════════════════════════════ */
.tool-list { display: flex; flex-direction: column; gap: .55rem }
.tool-btn {
  display: flex; align-items: center; justify-content: space-between;
  padding: .75rem .9rem;
  background: var(--surface2); border: 1px solid var(--border); border-radius: 7px;
  font-size: .9rem; color: var(--text-dim);
  transition: border-color .2s, color .15s, background .15s, box-shadow .2s;
  min-width: 0;
}
.tool-btn:hover { border-color: var(--border-g); color: var(--text); background: var(--surface3); box-shadow: var(--glow-card) }
.tool-name { display: flex; align-items: center; gap: .55rem; min-width: 0; overflow: hidden; text-overflow: ellipsis }
.tool-arr { color: var(--text-muted); transition: transform .2s, color .15s; flex-shrink: 0 }
.tool-btn:hover .tool-arr { transform: translateX(3px); color: var(--gold) }

/* ═══════════════════════════════════════════════════════════════════
   12b. TOOL WIDGETS — Live spray/urea in Quick Tools card
   Added: Session 8 · 2026-03-01
   ═══════════════════════════════════════════════════════════════════ */
.tool-widget {
  display: block;
  text-decoration: none;
  color: inherit;
  transition: border-color .2s, box-shadow .2s;
}
.tool-widget:hover { border-color: var(--border-g); box-shadow: var(--glow-card) }
.tool-widget-inner {
  display: flex;
  align-items: center;
  gap: .75rem;
  padding: .75rem .9rem;
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 7px;
  transition: border-color .2s, background .15s, box-shadow .2s;
  min-width: 0;
}
.tool-widget:hover .tool-widget-inner {
  border-color: var(--border-g);
  background: var(--surface3);
  box-shadow: var(--glow-card);
}
.tool-widget-icon {
  font-size: 1.5rem;
  line-height: 1;
  flex-shrink: 0;
}
.tool-widget-body {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: .15rem;
}
.tool-widget-status {
  font-size: .85rem;
  font-weight: 700;
  line-height: 1.3;
}
.tool-widget-detail {
  font-size: .72rem;
  color: var(--text-muted);
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.tool-widget-badge {
  display: inline-block;
  font-size: .65rem;
  font-weight: 700;
  letter-spacing: .04em;
  padding: .15rem .4rem;
  border-radius: 4px;
  white-space: nowrap;
  flex-shrink: 0;
}
.tool-widget-score {
  font-family: 'Oswald', sans-serif;
  font-size: 1.6rem;
  font-weight: 700;
  line-height: 1;
  flex-shrink: 0;
}
.tool-widget-rec {
  font-size: .68rem;
  color: var(--text-dim);
  line-height: 1.4;
  margin-top: .1rem;
}
.tool-widget-arr {
  color: var(--text-muted);
  font-size: .82rem;
  flex-shrink: 0;
  margin-left: auto;
  transition: transform .2s, color .15s;
}
.tool-widget:hover .tool-widget-arr {
  transform: translateX(3px);
  color: var(--gold);
}

/* Urea widget variant — 2-row layout with score + badge */
.tool-widget--urea .tool-widget-inner {
  flex-wrap: wrap;
}
.tool-widget--urea .tool-widget-top {
  display: flex;
  align-items: center;
  gap: .55rem;
  width: 100%;
}
.tool-widget--urea .tool-widget-bottom {
  width: 100%;
  padding-top: .25rem;
  margin-top: .15rem;
  border-top: 1px solid var(--border);
}

/* ── Mobile: compact tool widgets ──────────────────────────────── */
@media (max-width: 520px) {
  .tool-widget-inner { padding: .55rem .7rem; gap: .5rem }
  .tool-widget-icon { font-size: 1.2rem }
  .tool-widget-status { font-size: .78rem }
  .tool-widget-detail { font-size: .65rem }
  .tool-widget-score { font-size: 1.3rem }
  .tool-widget-badge { font-size: .58rem }
  .tool-widget-rec { font-size: .62rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap }
  .tool-widget--urea .tool-widget-top { gap: .4rem }
}

/* ── Very narrow: tighter tool widgets (iPhone SE, 375px) ──────── */
@media (max-width: 380px) {
  .tool-widget-inner { padding: .45rem .55rem; gap: .4rem }
  .tool-widget-icon { font-size: 1rem }
  .tool-widget-status { font-size: .7rem }
  .tool-widget-detail { font-size: .6rem }
  .tool-widget-score { font-size: 1.1rem }
  .tool-widget-badge { font-size: .55rem; padding: .1rem .3rem }
  .tool-widget-rec { font-size: .58rem }
  .tool-widget-arr { font-size: .72rem }
  .tool-widget--urea .tool-widget-top { gap: .3rem }
}


/* ═══════════════════════════════════════════════════════════════════
   13. RADAR & DROUGHT
   ═══════════════════════════════════════════════════════════════════ */
.radar-section { margin-bottom: var(--sp-xl) }
.radar-grid { display: grid; grid-template-columns: 3fr 2fr; gap: 1.25rem; align-items: stretch; min-height: 420px }
.radar-card { background: var(--surface); border: 1px solid var(--border); border-radius: var(--r-md); overflow: hidden; display: flex; flex-direction: column; min-height: 380px }
.radar-card iframe { display: block; width: 100%; border: none; border-radius: 0; flex: 1; min-height: 320px }
.radar-sidebar { display: flex; flex-direction: column; gap: .75rem; overflow: visible; min-width: 0 }
.wx-summary-card { background: var(--surface); border: 1px solid var(--border); border-radius: var(--r-md); padding: 1.1rem 1.2rem; flex-shrink: 0 }
.wx-summary-title { font-size: .68rem; font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: var(--gold); margin-bottom: .85rem; opacity: .9 }
.wx-forecast-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: .5rem }
.wx-day { text-align: center; padding: .55rem .3rem; background: var(--surface2); border-radius: 7px; border: 1px solid var(--border); min-width: 0 }
.wx-day-name { font-size: .64rem; font-weight: 700; letter-spacing: .07em; text-transform: uppercase; color: var(--text-muted); margin-bottom: .3rem }
.wx-day-icon { font-size: 1.5rem; line-height: 1; margin-bottom: .25rem }
.wx-day-hi { font-size: .9rem; font-weight: 700; color: var(--text) }
.wx-day-lo { font-size: .78rem; color: var(--text-muted) }
.wx-day-pop { font-size: .68rem; color: var(--blue); margin-top: .15rem }
.drought-embed { background: var(--surface); border: 1px solid var(--border); border-radius: var(--r-md); overflow: hidden }
.drought-embed img { display: block; width: 100%; height: auto; aspect-ratio: 728 / 500; object-fit: contain; background: var(--surface2) }
.drought-fallback { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2rem 1rem; text-align: center; min-height: 180px; background: var(--surface2); gap: .5rem }
.drought-fallback a { color: var(--gold); font-weight: 600; font-size: .85rem }

/* ═══════════════════════════════════════════════════════════════════
   14. USDA CALENDAR
   ═══════════════════════════════════════════════════════════════════ */
.cal-strip { display: flex; gap: .75rem; overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; padding-bottom: .25rem; margin-bottom: 2rem; scroll-snap-type: x mandatory; scroll-padding: 0 1rem }
.cal-strip::-webkit-scrollbar { display: none }
.cal-card { flex-shrink: 0; background: var(--surface); border: 1px solid var(--border); border-radius: 9px; padding: .85rem 1.1rem; min-width: 190px; transition: border-color .2s, box-shadow .2s; scroll-snap-align: start }
.cal-card:hover { border-color: var(--border-g); box-shadow: var(--glow-card) }
.cal-card.today { border-color: var(--border-g); background: rgba(230,176,66,.04) }
.cal-today-badge { display: inline-block; font-size: .64rem; font-weight: 700; letter-spacing: .08em; text-transform: uppercase; color: #0a1a0a; background: var(--gold); padding: .12rem .4rem; border-radius: 3px; margin-bottom: .35rem }
.cal-date { font-size: .72rem; color: var(--gold); font-weight: 600; text-transform: uppercase; letter-spacing: .07em; margin-bottom: .3rem }
.cal-name { font-size: .88rem; font-weight: 600; color: var(--text); margin-bottom: .2rem }
.cal-time { font-size: .75rem; color: var(--text-muted) }

/* ═══════════════════════════════════════════════════════════════════
   15. FFAI INDEX
   ═══════════════════════════════════════════════════════════════════ */
.ffai-score { font-family: 'Oswald', sans-serif; font-size: 3.8rem; font-weight: 700; color: var(--blue); line-height: 1; margin-bottom: .35rem }
.ffai-bar-wrap { height: 6px; background: var(--surface3); border-radius: 3px; overflow: hidden; margin-bottom: .5rem }
.ffai-bar-fill { height: 100%; background: linear-gradient(to right, var(--blue), #7ec8f0); border-radius: 3px; transition: width .8s cubic-bezier(.4,0,.2,1) }
.ffai-meta { display: flex; align-items: center; justify-content: space-between; margin-bottom: .45rem }
.ffai-prev { font-size: .76rem; color: var(--text-muted) }
.ffai-prev strong { color: var(--text-dim) }
.ffai-change { font-size: .8rem; font-weight: 700 }
.ffai-change.up { color: var(--green) }
.ffai-change.dn { color: var(--red) }
.ffai-desc { font-size: .82rem; line-height: 1.55; color: var(--text-dim); margin-bottom: .5rem }
.ffai-link { font-size: .72rem; color: var(--blue); opacity: .8; transition: opacity .15s; display: block }
.ffai-link:hover { opacity: 1 }

/* ═══════════════════════════════════════════════════════════════════
   16. PREDICTION MARKETS
   ═══════════════════════════════════════════════════════════════════ */
.market-card { transition: transform .2s cubic-bezier(.4,0,.2,1), box-shadow .2s }
.market-card:hover { transform: translateY(-2px); box-shadow: var(--glow-lift) }

/* ═══════════════════════════════════════════════════════════════════
   17. SIGNUP — 3-tier progressive system
   ═══════════════════════════════════════════════════════════════════ */
.signup { position: relative; overflow: hidden; margin-bottom: var(--sp-xl); background: var(--surface); border: 1px solid var(--border-g); border-radius: var(--r-lg); padding: var(--sp-2xl) var(--sp-xl) }
.signup::before { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse 700px 320px at 50% -50%, rgba(230,176,66,.07) 0%, transparent 70%); pointer-events: none }
.signup-inner { max-width: 680px; margin: 0 auto; text-align: center; position: relative; z-index: 1 }
.signup-icon { font-size: 2.2rem; margin-bottom: .75rem }
.signup-eyebrow { font-size: .72rem; font-weight: 700; letter-spacing: .14em; text-transform: uppercase; color: var(--gold); margin-bottom: .65rem; display: block }
.signup-headline { font-family: 'Oswald', sans-serif; font-size: clamp(1.9rem, 3.5vw, 2.8rem); font-weight: 700; text-transform: uppercase; color: var(--text); line-height: 1.15; margin-bottom: .75rem; letter-spacing: .02em }
.signup-sub { font-size: 1rem; line-height: 1.75; color: var(--text-dim); margin-bottom: 2rem }
.signup-tabs { display: flex; background: var(--surface2); border-radius: 9px; padding: .22rem; gap: .22rem; margin-bottom: 1.5rem; border: 1px solid var(--border); max-width: 320px; margin-left: auto; margin-right: auto }
.signup-tab { flex: 1; padding: .55rem .75rem; border: none; background: none; border-radius: 7px; font-family: 'JetBrains Mono', monospace; font-size: .82rem; font-weight: 600; color: var(--text-dim); transition: all .15s }
.signup-tab.active { background: var(--gold); color: #0a1a0a }
.signup-tab:hover:not(.active) { color: var(--text) }
.signup-form { display: flex; flex-direction: column; gap: .8rem; max-width: 460px; margin: 0 auto }
.signup-row { display: flex; gap: .65rem; flex-wrap: wrap }
.signup-input { flex: 1 1 160px; padding: .8rem 1.1rem; background: var(--surface2); border: 1px solid var(--border); border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-size: .92rem; color: var(--text); outline: none; transition: border-color .15s; min-width: 0 }
.signup-input::placeholder { color: var(--text-muted) }
.signup-input:focus { border-color: var(--gold) }
.signup-submit { padding: .8rem 1.5rem; background: var(--gold); color: #0a1a0a; border: none; border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-size: .92rem; font-weight: 700; white-space: nowrap; transition: background .15s, transform .1s, box-shadow .15s; flex-shrink: 0 }
.signup-submit:hover { background: #f0c050; transform: translateY(-1px); box-shadow: 0 4px 16px rgba(230,176,66,.25) }
.signup-disc { font-size: .75rem; color: var(--text-muted) }
.signup-disc a { color: var(--text-dim); border-bottom: 1px solid var(--border) }
.sms-note { display: flex; align-items: flex-start; gap: .65rem; background: rgba(230,176,66,.07); border: 1px solid rgba(230,176,66,.15); border-radius: 8px; padding: .9rem 1.1rem; text-align: left; font-size: .88rem; color: var(--text-dim); line-height: 1.6 }

/* Tier 2: Compact bar */
.signup--compact { display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; margin-bottom: var(--sp-xl); background: var(--surface); border: 1px solid var(--border-g); border-radius: 9px; padding: .85rem 1.25rem; position: relative; overflow: hidden }
.signup--compact::before { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse 600px 120px at 50% -50%, rgba(230,176,66,.05) 0%, transparent 70%); pointer-events: none }
.signup--compact .scu-eyebrow { font-size: .65rem; font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: var(--gold); white-space: nowrap; flex-shrink: 0 }
.signup--compact .scu-text { font-size: .88rem; color: var(--text-dim); flex: 1; min-width: 180px }
.signup--compact .scu-text strong { color: var(--text) }
.signup--compact .scu-form { display: flex; gap: .55rem; flex-shrink: 0; flex-wrap: wrap }
.signup--compact .scu-input { padding: .6rem .9rem; background: var(--surface2); border: 1px solid var(--border); border-radius: 7px; font-family: 'JetBrains Mono', monospace; font-size: .85rem; color: var(--text); outline: none; width: 210px; min-width: 0; transition: border-color .15s }
.signup--compact .scu-input::placeholder { color: var(--text-muted) }
.signup--compact .scu-input:focus { border-color: var(--gold) }
.signup--compact .scu-btn { padding: .6rem 1.1rem; background: var(--gold); color: #0a1a0a; border: none; border-radius: 7px; font-family: 'JetBrains Mono', monospace; font-size: .85rem; font-weight: 700; white-space: nowrap; transition: background .15s }
.signup--compact .scu-btn:hover { background: #f0c050 }
.signup--compact .scu-dismiss { margin-left: auto; font-size: .72rem; color: var(--text-muted); background: none; border: none; white-space: nowrap; flex-shrink: 0 }
.signup--compact .scu-dismiss:hover { color: var(--text-dim) }

/* Tier 3: Slim line */
.signup--slim { display: flex; align-items: center; gap: .75rem; flex-wrap: wrap; margin-bottom: 1.5rem; padding: .55rem 1rem; border-top: 1px solid var(--border); border-bottom: 1px solid var(--border) }
.signup--slim .scs-text { font-size: .78rem; color: var(--text-muted); flex: 1; min-width: 0 }
.signup--slim a { font-size: .78rem; color: var(--gold); white-space: nowrap }
.signup--slim a:hover { text-decoration: underline }

/* ═══════════════════════════════════════════════════════════════════
   18. FOOTER — v8: streamlined 4-column layout
   ═══════════════════════════════════════════════════════════════════ */
.footer { background: var(--surface); border-top: 1px solid var(--border-g); padding: 1.25rem 0 0; transition: background .25s }
.footer-inner { max-width: 1400px; margin: 0 auto; padding: 0 var(--sp-lg) }
.footer-top { display: flex; justify-content: space-between; align-items: center; padding-bottom: .75rem; border-bottom: 1px solid var(--border); margin-bottom: .75rem; flex-wrap: wrap; gap: .6rem }
.footer-brand { display: flex; align-items: center; gap: .65rem; min-width: 0 }
.footer-brand img { height: 36px; width: auto; object-fit: contain; max-width: 210px }
.footer-brand-text { display: flex; flex-direction: column; gap: .15rem }
.footer-tagline { font-size: .8rem; color: var(--text-dim) }
.footer-built { font-size: .72rem; color: var(--text-muted) }
.footer-status { display: flex; align-items: center; gap: .4rem; font-size: .75rem; color: var(--text-dim) }
.status-dot { width: 7px; height: 7px; border-radius: 50%; background: var(--green); animation: blink 2s ease-in-out infinite }
.footer-cols { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; padding-bottom: .75rem; border-bottom: 1px solid var(--border); margin-bottom: .75rem }
.footer-col h4 { font-size: .68rem; font-weight: 700; letter-spacing: .1em; text-transform: uppercase; color: var(--gold); margin-bottom: .45rem; opacity: .9 }
.footer-col a { display: block; font-size: .82rem; color: var(--text-dim); padding: .12rem 0; transition: color .15s }
.footer-col a:hover { color: var(--text) }
.footer-net { padding-bottom: .75rem; border-bottom: 1px solid var(--border); margin-bottom: .6rem }
.footer-net-lbl { font-size: .65rem; font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: var(--text-muted); margin-bottom: .5rem; display: block }
.footer-net-links { display: flex; gap: .55rem; flex-wrap: wrap }
.footer-net-link { display: flex; align-items: center; gap: .65rem; padding: .45rem .9rem; background: var(--surface2); border: 1px solid var(--border); border-radius: 7px; transition: border-color .15s; flex: 1 1 180px; min-width: 0 }
.footer-net-link:hover { border-color: var(--border-g) }
.footer-net-link--gold { border-color: var(--border-g) }
.footer-net-link img { flex-shrink: 0; border-radius: 3px }
.net-text { min-width: 0 }
.net-text strong { font-size: .82rem; color: var(--text); font-weight: 600; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis }
.net-text em { font-size: .74rem; color: var(--text-dim); font-style: normal }
.net-arr { font-size: .78rem; color: var(--text-muted); margin-left: auto; flex-shrink: 0 }
.footer-bottom { display: flex; justify-content: center; align-items: center; padding: .5rem 0 }
.footer-legal { display: flex; align-items: center; gap: .4rem; font-size: .74rem; color: var(--text-muted); flex-wrap: wrap }
.footer-legal a { color: var(--text-muted); transition: color .15s }
.footer-legal a:hover { color: var(--text-dim) }
.footer-sep { opacity: .3 }
.footer-disc { font-size: .7rem; color: var(--text-muted); font-style: italic }

/* ═══════════════════════════════════════════════════════════════════
   19. UTILITIES, ANIMATIONS & ACCESSIBILITY
   ═══════════════════════════════════════════════════════════════════ */
.fade-up { opacity: 0; transform: translateY(20px); transition: opacity .5s cubic-bezier(.4,0,.2,1), transform .5s cubic-bezier(.4,0,.2,1) }
.fade-up.vis { opacity: 1; transform: translateY(0) }
.noscript-banner { background: var(--gold); color: #0a1a0a; text-align: center; padding: .75rem 1rem; font-size: .88rem; font-weight: 600 }
.bids-skeleton { display: flex; flex-direction: column; gap: .45rem; padding: .2rem 0 }
.bids-skel-row { height: 44px; background: linear-gradient(90deg, var(--surface2) 25%, var(--surface3) 50%, var(--surface2) 75%); background-size: 200% 100%; border-radius: 7px; animation: skel-pulse 1.4s ease infinite }
@keyframes skel-pulse { 0% { background-position: 200% 0 } 100% { background-position: -200% 0 } }
.ws-toast { position: fixed; bottom: 1.5rem; right: 1.5rem; background: var(--surface3); border: 1px solid var(--border-g); border-radius: 7px; padding: .55rem 1rem; font-size: .82rem; color: var(--text); z-index: 9999; opacity: 0; transform: translateY(6px); transition: opacity .2s, transform .2s; pointer-events: none }
.ws-toast.show { opacity: 1; transform: translateY(0) }
.section { padding: 2rem 0 }
.section-inner { max-width: 1400px; margin: 0 auto; padding: 0 var(--sp-lg) }
.breadcrumb { font-size: .8rem; color: var(--text-dim); margin-bottom: 12px }
.breadcrumb a { color: var(--gold) }
.breadcrumb a:hover { text-decoration: underline }

@media (prefers-reduced-motion: reduce) {
  .ticker-track { animation: none !important; overflow-x: auto; -webkit-overflow-scrolling: touch }
  .ticker-track-wrap::before, .ticker-track-wrap::after { display: none }
  .live-dot, .status-dot, .daily-eyebrow-dot { animation: none !important; opacity: 1 }
  .fade-up { opacity: 1 !important; transform: none !important; transition: none !important }
  .pc:hover, .market-card:hover { transform: none }
  .daily-full { transition: none !important }
}

@media (hover: none) {
  .pc:hover { transform: none; border-color: var(--border); box-shadow: none }
  .pc:hover::before { opacity: 0 }
  .market-card:hover { transform: none; box-shadow: none }
}

.nav-icon { height: 18px; width: 18px; object-fit: contain; flex-shrink: 0; border-radius: 2px; opacity: .7; filter: drop-shadow(0 0 1px rgba(255,255,255,.08)); transition: filter .15s, opacity .15s }
.nav-btn:hover .nav-icon, .nav-dd.open > .nav-btn .nav-icon { opacity: .9; filter: drop-shadow(0 0 2px rgba(230,176,66,.2)) }
[data-theme="light"] .nav-icon { filter: none; opacity: .65 }
[data-theme="light"] .nav-btn:hover .nav-icon { opacity: .85; filter: drop-shadow(0 0 1px rgba(150,100,10,.15)) }
.draw-lbl-icon { height: 16px; width: 16px; object-fit: contain; display: inline-block; vertical-align: middle; margin-right: .3rem; border-radius: 2px; opacity: .7 }
@media (max-width: 960px) { .nav-icon { display: none } }
#bids-zip:focus, #wx-zip:focus, #compact-email:focus { border-color: var(--gold) !important }

/* ═══════════════════════════════════════════════════════════════════
   20. SHARED TOOL / CALCULATOR UI
   ═══════════════════════════════════════════════════════════════════ */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; align-items: start }
.panel { background: var(--surface); border: 1px solid var(--border); border-radius: var(--r-md); overflow: hidden }
.panel-head { background: var(--bg); padding: 12px 16px; border-bottom: 1px solid var(--border) }
.panel-head h1, .panel-head h2 { font-size: .9rem; margin: 0; color: var(--gold); font-weight: 700; letter-spacing: .5px }
.panel-body { padding: 16px }
.panel label { display: block; font-size: .7rem; color: var(--text-dim); text-transform: uppercase; letter-spacing: .5px; margin-bottom: 5px; font-weight: 600 }
.panel input[type="number"], .panel input[type="text"], .panel select { width: 100%; padding: 10px 12px; font-family: inherit; font-size: .9rem; background: var(--bg); border: 1px solid var(--border); border-radius: var(--r-sm); color: var(--text); box-sizing: border-box; transition: border-color .2s }
.panel input:focus, .panel select:focus { outline: none; border-color: var(--gold) }
.result-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--border) }
.result-row:last-child { border-bottom: none }
.result-label { font-size: .8rem; color: var(--text-dim) }
.result-value { font-size: 1rem; font-weight: 700; color: var(--text) }
.result-value.highlight { font-size: 1.3rem; color: var(--gold) }
.result-value.positive { color: var(--green) }
.result-value.negative { color: var(--red) }
main.tool-main, main#main-content { max-width: 1100px; margin: 0 auto; padding: 16px }

/* ═══════════════════════════════════════════════════════════════════
   21. RESPONSIVE — consolidated breakpoints
   ═══════════════════════════════════════════════════════════════════ */

/* ── Large desktop → tablet landscape ──────────────────────────── */
@media (max-width: 1100px) {
  .daily-grid { grid-template-columns: 1fr !important }
  .hero-sidebar { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem }
  .daily-lead { max-width: 100% }
  .radar-grid { grid-template-columns: 1fr; min-height: unset }
  .radar-card { min-height: 320px }
}

/* ── Tablet ────────────────────────────────────────────────────── */
@media (max-width: 768px) {
  .signup-row { flex-direction: column }
  .footer-cols { grid-template-columns: repeat(2, 1fr) }
  .footer-net-links { flex-direction: column }
  .footer-net-link { flex: 1 1 100% }
  .hero-sidebar { grid-template-columns: 1fr }
  .grid-2 { grid-template-columns: 1fr }
}

/* ── Compact bar signup ────────────────────────────────────────── */
@media (max-width: 640px) {
  .signup--compact { flex-direction: column; align-items: flex-start }
  .signup--compact .scu-form { width: 100% }
  .signup--compact .scu-input { width: 100%; min-width: 0 }
  .signup--compact .scu-dismiss { margin-left: 0 }
  .daily-dismiss-row { padding: .9rem 1rem 1.25rem }
}

/* ── Mobile ────────────────────────────────────────────────────── */
@media (max-width: 520px) {
  .nav-inner { height: 60px; padding: 0 .9rem }
  .nav-logo img { height: 44px }
  .main { padding: 1.25rem .9rem }
  .signup { padding: 1.75rem 1rem }
  .footer-inner { padding-left: .9rem; padding-right: .9rem }
  .footer-cols { grid-template-columns: repeat(2, 1fr) }

  /* Ticker */
  .prices-strip { top: 60px }
  .ticker-outer { height: 38px }
  .t-price { font-size: .8rem }
  .t-label { font-size: .64rem }

  /* ── Daily hero — compact mobile layout ─────────────────────── */
  .daily-hero-inner { padding: 1.25rem .9rem }
  .daily-greeting { font-size: 1rem; margin-bottom: .35rem }
  .daily-eyebrow { font-size: .6rem; padding: .18rem .5rem; margin-bottom: .5rem }
  .daily-date { font-size: .68rem; margin-bottom: .35rem }
  .daily-headline { font-size: clamp(1.6rem, 5.5vw, 2.2rem); margin-bottom: .6rem }
  .daily-lead { font-size: .85rem; line-height: 1.55; margin-bottom: .8rem }
  .daily-sec { padding: .55rem .65rem; gap: .5rem }
  .daily-sec-icon { font-size: .9rem }
  .daily-sec-label { font-size: .6rem; margin-bottom: .15rem }
  .daily-sec-text { font-size: .78rem; line-height: 1.45 }
  .daily-sections { gap: .5rem; margin-bottom: .8rem }
  .daily-sec:nth-child(n+4) { display: none }
  .daily-ctas { margin-top: .25rem }

  /* Teaser bar */
  .daily-teaser { padding: .4rem .9rem; gap: .4rem }
  .teaser-headline { font-size: .75rem }
  .teaser-action { font-size: .68rem }
  .teaser-badge { font-size: .55rem; padding: .15rem .4rem }

  /* ── Hero sidebar — compact cards on mobile ──────────────────── */
  .s-card { padding: .7rem .8rem }
  .s-card-label { font-size: .6rem; margin-bottom: .4rem }
  .one-num { font-size: 2.4rem }
  .one-num-unit { font-size: .72rem }
  .one-num-ctx { font-size: .75rem; line-height: 1.45 }
  .ffai-score { font-size: 2.4rem }
  .watch-item { padding: .3rem 0 }
  .watch-time { font-size: .72rem; min-width: 52px }
  .watch-desc { font-size: .75rem; line-height: 1.4 }
  .hero-sidebar { gap: .6rem }
  .hero-sidebar > .s-card:last-child { display: none }

  /* ── v6: Price cards — 2-wide on ALL phone sizes ─────────────── */
  .price-cards-grid { grid-template-columns: repeat(2, 1fr); gap: .6rem }
  .price-cards-grid-2 { grid-template-columns: repeat(2, 1fr); gap: .6rem }
  .pc { padding: .6rem .65rem }
  .pc-head { margin-bottom: .4rem }
  .pc-name { font-size: .72rem }
  .pc-contract { font-size: .58rem; padding: .1rem .3rem }
  .pc-price { font-size: 1.5rem }
  .pc-sm .pc-price { font-size: 1.25rem }
  .pc-chg-val { font-size: .72rem }
  .pc-prev { font-size: .6rem }
  .pc-range-labels { font-size: .55rem }
  .pc-range-dot { width: 9px; height: 9px }
  .pc-section-lbl { font-size: .6rem }

  /* Footer bottom stacks vertically on phone */
  .footer-bottom { flex-direction: column; align-items: center; gap: .3rem }
}

/* ── Very narrow (iPhone SE, 375px) ────────────────────────────── */
@media (max-width: 380px) {
  /* v6: Keep 2-wide price cards even on tiny screens */
  .price-cards-grid { grid-template-columns: repeat(2, 1fr); gap: .5rem }
  .price-cards-grid-2 { grid-template-columns: repeat(2, 1fr); gap: .5rem }
  .pc { padding: .5rem .55rem }
  .pc-price { font-size: 1.3rem }
  .pc-sm .pc-price { font-size: 1.1rem }
  .pc-name { font-size: .65rem }
  /* v6: Hide range bars on tiny screens to save vertical space */
  .pc-range { display: none }

  .daily-headline { font-size: 1.4rem }
  .one-num { font-size: 2rem }
  .daily-lead { display: none }
  .daily-sec:nth-child(n+3) { display: none }
  .teaser-headline { display: none }
  .daily-teaser { padding: .4rem .75rem }
}
